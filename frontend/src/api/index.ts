import axios from 'axios'
const baseURL = "http://localhost:8000/"
const API = axios.create({ baseURL: baseURL})
if(localStorage.getItem('token')){

  API.defaults.headers.common['Authorization'] = `Bearer ${localStorage.getItem('token')}`;
}

export const Signin = (authData:{username:string,password:string}) => API.post('/api/login/', authData)
  .then(response => {
    const { access } = response.data;
    localStorage.setItem('token', response.data.access);
    API.defaults.headers.common['Authorization'] = `Bearer ${access}`;
    console.log(API.defaults.headers.common);
    return response;
  });
export const Signup = (authData:{username:string,first_name:string,last_name:string,password:string,password_confirm:String})=>API.post('/signup/',authData)


export const FileUpload = (fileData:any)=>API.post('/scan/',fileData)